{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ansari\\\\Documents\\\\Github\\\\Mercy-USA-App\\\\node_modules\\\\react-native-calendars\\\\src\\\\expandableCalendar\\\\index.js\";\n\nfunction _objectSpread2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport { CALENDAR_KNOB } from \"../testIDs\";\nimport dateutils from \"../dateutils\";\nimport { parseDate } from \"../interface\";\nimport styleConstructor from \"./style\";\nimport CalendarList from \"../calendar-list\";\nimport asCalendarConsumer from \"./asCalendarConsumer\";\nimport Week from \"./week\";\n\nvar commons = require(\"./commons\");\n\nvar UPDATE_SOURCES = commons.UPDATE_SOURCES;\nvar POSITIONS = {\n  CLOSED: 'closed',\n  OPEN: 'open'\n};\nvar SPEED = 20;\nvar BOUNCINESS = 6;\nvar CLOSED_HEIGHT = 120;\nvar WEEK_HEIGHT = 46;\nvar KNOB_CONTAINER_HEIGHT = 20;\nvar HEADER_HEIGHT = 68;\nvar DAY_NAMES_PADDING = 24;\n\nclass ExpandableCalendar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleMoveShouldSetPanResponder = (e, gestureState) => {\n      if (this.props.disablePan) {\n        return false;\n      }\n\n      if (!this.props.horizontal && this.state.position === POSITIONS.OPEN) {\n        return false;\n      }\n\n      if (this.state.position === POSITIONS.CLOSED && gestureState.dy < 0) {\n        return false;\n      }\n\n      return gestureState.dy > 5 || gestureState.dy < -5;\n    };\n\n    this.handlePanResponderGrant = () => {};\n\n    this.handlePanResponderMove = (e, gestureState) => {\n      this._wrapperStyles.style.height = Math.max(this.closedHeight, this._height + gestureState.dy);\n\n      if (!this.props.horizontal) {\n        this._headerStyles.style.top = Math.min(Math.max(-gestureState.dy, -HEADER_HEIGHT), 0);\n      } else {\n        if (this.state.position === POSITIONS.CLOSED) {\n          this._weekCalendarStyles.style.opacity = Math.min(1, Math.max(1 - gestureState.dy / 100, 0));\n        }\n      }\n\n      this.updateNativeStyles();\n    };\n\n    this.handlePanResponderEnd = () => {\n      this._height = this._wrapperStyles.style.height;\n      this.bounceToPosition();\n    };\n\n    this.onAnimatedFinished = (_ref) => {\n      var {\n        finished\n      } = _ref;\n\n      if (finished) {}\n    };\n\n    this.onPressArrowLeft = () => {\n      this.scrollPage(false);\n    };\n\n    this.onPressArrowRight = () => {\n      this.scrollPage(true);\n    };\n\n    this.onDayPress = value => {\n      _.invoke(this.props.context, 'setDate', value.dateString, UPDATE_SOURCES.DAY_PRESS);\n\n      setTimeout(() => {\n        if (this.state.position === POSITIONS.OPEN) {\n          this.bounceToPosition(this.closedHeight);\n        }\n      }, 0);\n    };\n\n    this.onVisibleMonthsChange = value => {\n      if (this.visibleMonth !== _.first(value).month) {\n        this.visibleMonth = _.first(value).month;\n        var {\n          date,\n          updateSource\n        } = this.props.context;\n\n        if (this.visibleMonth !== this.getMonth(date) && updateSource !== UPDATE_SOURCES.DAY_PRESS) {\n          var next = this.isLaterDate(_.first(value), date);\n          this.scrollPage(next);\n        }\n\n        setTimeout(() => {\n          var numberOfWeeks = this.getNumberOfWeeksInMonth(parseDate(this.props.context.date));\n\n          if (numberOfWeeks !== this.numberOfWeeks) {\n            this.numberOfWeeks = numberOfWeeks;\n            this.openHeight = this.getOpenHeight();\n\n            if (this.state.position === POSITIONS.OPEN) {\n              this.bounceToPosition(this.openHeight);\n            }\n          }\n        }, 0);\n      }\n    };\n\n    this.renderArrow = direction => {\n      if (_.isFunction(this.props.renderArrow)) {\n        this.props.renderArrow(direction);\n      }\n\n      return React.createElement(Image, {\n        source: direction === 'right' ? this.props.rightArrowImageSource : this.props.leftArrowImageSource,\n        style: this.style.arrowImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449\n        }\n      });\n    };\n\n    this.style = styleConstructor(props.theme);\n    this.closedHeight = CLOSED_HEIGHT + (props.hideKnob ? 0 : KNOB_CONTAINER_HEIGHT);\n    this.numberOfWeeks = this.getNumberOfWeeksInMonth(XDate(this.props.context.date));\n    this.openHeight = this.getOpenHeight();\n    var startHeight = props.initialPosition === POSITIONS.CLOSED ? this.closedHeight : this.openHeight;\n    this._height = startHeight;\n    this._wrapperStyles = {\n      style: {}\n    };\n    this._headerStyles = {\n      style: {\n        top: this.props.initialPosition === POSITIONS.CLOSED ? 0 : -HEADER_HEIGHT\n      }\n    };\n    this._weekCalendarStyles = {\n      style: {}\n    };\n    this.wrapper = undefined;\n    this.calendar = undefined;\n    this.visibleMonth = this.getMonth(this.props.context.date);\n    this.initialDate = props.context.date;\n    this.headerStyleOverride = {\n      'stylesheet.calendar.header': {\n        week: {\n          marginTop: 7,\n          marginBottom: -4,\n          flexDirection: 'row',\n          justifyContent: 'space-around'\n        }\n      }\n    };\n    this.state = {\n      deltaY: new Animated.Value(startHeight),\n      headerDeltaY: new Animated.Value(this.props.initialPosition === POSITIONS.CLOSED ? 0 : -HEADER_HEIGHT),\n      position: props.initialPosition\n    };\n    this.panResponder = PanResponder.create({\n      onMoveShouldSetPanResponder: this.handleMoveShouldSetPanResponder,\n      onPanResponderGrant: this.handlePanResponderGrant,\n      onPanResponderMove: this.handlePanResponderMove,\n      onPanResponderRelease: this.handlePanResponderEnd,\n      onPanResponderTerminate: this.handlePanResponderEnd\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    var {\n      date\n    } = this.props.context;\n\n    if (date !== prevProps.context.date) {\n      this.scrollToDate(date);\n    }\n  }\n\n  updateNativeStyles() {\n    this.wrapper && this.wrapper.setNativeProps(this._wrapperStyles);\n\n    if (!this.props.horizontal) {\n      this.header && this.header.setNativeProps(this._headerStyles);\n    } else {\n      this.weekCalendar && this.weekCalendar.setNativeProps(this._weekCalendarStyles);\n    }\n  }\n\n  scrollToDate(date) {\n    if (this.calendar) {\n      if (!this.props.horizontal) {\n        this.calendar.scrollToDay(XDate(date), 0, true);\n      } else if (this.getMonth(date) !== this.visibleMonth) {\n        this.calendar.scrollToMonth(XDate(date));\n      }\n    }\n  }\n\n  scrollPage(next) {\n    if (this.props.horizontal) {\n      var d = parseDate(this.props.context.date);\n\n      if (this.state.position === POSITIONS.OPEN) {\n        d.setDate(1);\n        d.addMonths(next ? 1 : -1);\n      } else {\n        var {\n          firstDay\n        } = this.props;\n        var dayOfTheWeek = d.getDay();\n\n        if (dayOfTheWeek < firstDay && firstDay > 0) {\n          dayOfTheWeek = 7 + dayOfTheWeek;\n        }\n\n        var firstDayOfWeek = (next ? 7 : -7) - dayOfTheWeek + firstDay;\n        d.addDays(firstDayOfWeek);\n      }\n\n      _.invoke(this.props.context, 'setDate', this.getDateString(d), UPDATE_SOURCES.PAGE_SCROLL);\n    }\n  }\n\n  getOpenHeight() {\n    if (!this.props.horizontal) {\n      return Math.max(commons.screenHeight, commons.screenWidth);\n    }\n\n    return CLOSED_HEIGHT + WEEK_HEIGHT * (this.numberOfWeeks - 1) + (this.props.hideKnob ? 12 : KNOB_CONTAINER_HEIGHT);\n  }\n\n  getDateString(date) {\n    return date.toString('yyyy-MM-dd');\n  }\n\n  getYear(date) {\n    var d = XDate(date);\n    return d.getFullYear();\n  }\n\n  getMonth(date) {\n    var d = XDate(date);\n    return d.getMonth() + 1;\n  }\n\n  getNumberOfWeeksInMonth(month) {\n    var days = dateutils.page(month, this.props.firstDay);\n    return days.length / 7;\n  }\n\n  getMarkedDates() {\n    var {\n      context,\n      markedDates\n    } = this.props;\n\n    if (markedDates) {\n      var marked = _.cloneDeep(markedDates);\n\n      if (marked[context.date]) {\n        marked[context.date].selected = true;\n      } else {\n        marked[context.date] = {\n          selected: true\n        };\n      }\n\n      return marked;\n    }\n\n    return {\n      [context.date]: {\n        selected: true\n      }\n    };\n  }\n\n  shouldHideArrows() {\n    if (!this.props.horizontal) {\n      return true;\n    }\n\n    return this.props.hideArrows || false;\n  }\n\n  isLaterDate(date1, date2) {\n    if (date1.year > this.getYear(date2)) {\n      return true;\n    }\n\n    if (date1.year === this.getYear(date2)) {\n      if (date1.month > this.getMonth(date2)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  bounceToPosition(toValue) {\n    if (!this.props.disablePan) {\n      var {\n        deltaY\n      } = this.state;\n      var threshold = this.openHeight / 1.75;\n      var isOpen = this._height >= threshold;\n      var newValue = isOpen ? this.openHeight : this.closedHeight;\n      deltaY.setValue(this._height);\n      this._height = toValue || newValue;\n      isOpen = this._height >= threshold;\n      Animated.spring(deltaY, {\n        toValue: this._height,\n        speed: SPEED,\n        bounciness: BOUNCINESS\n      }).start(this.onAnimatedFinished);\n      this.setPosition();\n      this.closeHeader(isOpen);\n      this.resetWeekCalendarOpacity(isOpen);\n    }\n  }\n\n  setPosition() {\n    var isClosed = this._height === this.closedHeight;\n    this.setState({\n      position: isClosed ? POSITIONS.CLOSED : POSITIONS.OPEN\n    });\n  }\n\n  resetWeekCalendarOpacity(isOpen) {\n    this._weekCalendarStyles.style.opacity = isOpen ? 0 : 1;\n    this.updateNativeStyles();\n  }\n\n  closeHeader(isOpen) {\n    var {\n      headerDeltaY\n    } = this.state;\n    headerDeltaY.setValue(this._headerStyles.style.top);\n\n    if (!this.props.horizontal && !isOpen) {\n      Animated.spring(headerDeltaY, {\n        toValue: 0,\n        speed: SPEED / 10,\n        bounciness: 1\n      }).start();\n    }\n  }\n\n  renderWeekDaysNames() {\n    var weekDaysNames = dateutils.weekDayNames(this.props.firstDay);\n    return React.createElement(View, {\n      style: [this.style.weekDayNames, {\n        paddingLeft: _.get(this.props, 'calendarStyle.paddingLeft') + 6 || DAY_NAMES_PADDING,\n        paddingRight: _.get(this.props, 'calendarStyle.paddingRight') + 6 || DAY_NAMES_PADDING\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      }\n    }, weekDaysNames.map((day, index) => React.createElement(Text, {\n      allowFontScaling: false,\n      key: day + index,\n      style: this.style.weekday,\n      numberOfLines: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387\n      }\n    }, day)));\n  }\n\n  renderHeader() {\n    var monthYear = XDate(this.props.context.date).toString('MMMM yyyy');\n    return React.createElement(Animated.View, {\n      ref: e => this.header = e,\n      style: [this.style.header, {\n        height: HEADER_HEIGHT,\n        top: this.state.headerDeltaY\n      }],\n      pointerEvents: 'none',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      }\n    }, React.createElement(Text, {\n      allowFontScaling: false,\n      style: this.style.headerTitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402\n      }\n    }, monthYear), this.renderWeekDaysNames());\n  }\n\n  renderWeekCalendar() {\n    var {\n      position\n    } = this.state;\n    return React.createElement(Animated.View, {\n      ref: e => this.weekCalendar = e,\n      style: {\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        top: HEADER_HEIGHT + (commons.isAndroid ? 8 : 4),\n        opacity: position === POSITIONS.OPEN ? 0 : 1\n      },\n      pointerEvents: position === POSITIONS.CLOSED ? 'auto' : 'none',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412\n      }\n    }, React.createElement(Week, _extends({}, this.props, {\n      current: this.props.context.date,\n      onDayPress: this.onDayPress,\n      markedDates: this.getMarkedDates(),\n      style: this.props.calendarStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      }\n    })));\n  }\n\n  renderKnob() {\n    return React.createElement(View, {\n      style: this.style.knobContainer,\n      pointerEvents: 'none',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437\n      }\n    }, React.createElement(View, {\n      style: this.style.knob,\n      testID: CALENDAR_KNOB,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438\n      }\n    }));\n  }\n\n  render() {\n    var {\n      style,\n      hideKnob,\n      horizontal,\n      allowShadow,\n      theme\n    } = this.props;\n    var {\n      deltaY,\n      position\n    } = this.state;\n    var isOpen = position === POSITIONS.OPEN;\n\n    var themeObject = _extends(this.headerStyleOverride, theme);\n\n    return React.createElement(View, {\n      style: [allowShadow && this.style.containerShadow, style],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463\n      }\n    }, React.createElement(Animated.View, _extends({\n      ref: e => {\n        this.wrapper = e;\n      },\n      style: {\n        height: deltaY\n      }\n    }, this.panResponder.panHandlers, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464\n      }\n    }), React.createElement(CalendarList, _extends({\n      testID: \"calendar\"\n    }, this.props, {\n      theme: themeObject,\n      ref: r => this.calendar = r,\n      current: this.initialDate,\n      onDayPress: this.onDayPress,\n      onVisibleMonthsChange: this.onVisibleMonthsChange,\n      pagingEnabled: true,\n      scrollEnabled: isOpen,\n      markedDates: this.getMarkedDates(),\n      hideArrows: this.shouldHideArrows(),\n      onPressArrowLeft: this.onPressArrowLeft,\n      onPressArrowRight: this.onPressArrowRight,\n      hideExtraDays: !horizontal,\n      renderArrow: this.renderArrow,\n      staticHeader: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469\n      }\n    })), horizontal && this.renderWeekCalendar(), !hideKnob && this.renderKnob(), !horizontal && this.renderHeader()));\n  }\n\n}\n\nExpandableCalendar.displayName = 'ExpandableCalendar';\nExpandableCalendar.propTypes = _objectSpread2({}, CalendarList.propTypes, {\n  initialPosition: PropTypes.oneOf(_.values(POSITIONS)),\n  disablePan: PropTypes.bool,\n  hideKnob: PropTypes.bool,\n  leftArrowImageSource: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.func]),\n  rightArrowImageSource: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.func]),\n  allowShadow: PropTypes.bool\n});\nExpandableCalendar.defaultProps = {\n  horizontal: true,\n  initialPosition: POSITIONS.CLOSED,\n  firstDay: 0,\n  leftArrowImageSource: require(\"../calendar/img/previous.png\"),\n  rightArrowImageSource: require(\"../calendar/img/next.png\"),\n  allowShadow: true\n};\nExpandableCalendar.positions = POSITIONS;\nexport default asCalendarConsumer(ExpandableCalendar);","map":{"version":3,"sources":["C:\\Users\\Ansari\\Documents\\Github\\Mercy-USA-App\\node_modules\\react-native-calendars\\src\\expandableCalendar\\index.js"],"names":["_","React","Component","PropTypes","XDate","CALENDAR_KNOB","dateutils","parseDate","styleConstructor","CalendarList","asCalendarConsumer","Week","commons","require","UPDATE_SOURCES","POSITIONS","CLOSED","OPEN","SPEED","BOUNCINESS","CLOSED_HEIGHT","WEEK_HEIGHT","KNOB_CONTAINER_HEIGHT","HEADER_HEIGHT","DAY_NAMES_PADDING","ExpandableCalendar","constructor","props","handleMoveShouldSetPanResponder","e","gestureState","disablePan","horizontal","state","position","dy","handlePanResponderGrant","handlePanResponderMove","_wrapperStyles","style","height","Math","max","closedHeight","_height","_headerStyles","top","min","_weekCalendarStyles","opacity","updateNativeStyles","handlePanResponderEnd","bounceToPosition","onAnimatedFinished","finished","onPressArrowLeft","scrollPage","onPressArrowRight","onDayPress","value","invoke","context","dateString","DAY_PRESS","setTimeout","onVisibleMonthsChange","visibleMonth","first","month","date","updateSource","getMonth","next","isLaterDate","numberOfWeeks","getNumberOfWeeksInMonth","openHeight","getOpenHeight","renderArrow","direction","isFunction","rightArrowImageSource","leftArrowImageSource","arrowImage","theme","hideKnob","startHeight","initialPosition","wrapper","undefined","calendar","initialDate","headerStyleOverride","week","marginTop","marginBottom","flexDirection","justifyContent","deltaY","Animated","Value","headerDeltaY","panResponder","PanResponder","create","onMoveShouldSetPanResponder","onPanResponderGrant","onPanResponderMove","onPanResponderRelease","onPanResponderTerminate","componentDidUpdate","prevProps","scrollToDate","setNativeProps","header","weekCalendar","scrollToDay","scrollToMonth","d","setDate","addMonths","firstDay","dayOfTheWeek","getDay","firstDayOfWeek","addDays","getDateString","PAGE_SCROLL","screenHeight","screenWidth","toString","getYear","getFullYear","days","page","length","getMarkedDates","markedDates","marked","cloneDeep","selected","shouldHideArrows","hideArrows","date1","date2","year","toValue","threshold","isOpen","newValue","setValue","spring","speed","bounciness","start","setPosition","closeHeader","resetWeekCalendarOpacity","isClosed","setState","renderWeekDaysNames","weekDaysNames","weekDayNames","paddingLeft","get","paddingRight","map","day","index","weekday","renderHeader","monthYear","headerTitle","renderWeekCalendar","left","right","isAndroid","calendarStyle","renderKnob","knobContainer","knob","render","allowShadow","themeObject","containerShadow","panHandlers","r","displayName","propTypes","oneOf","values","bool","oneOfType","object","number","func","defaultProps","positions"],"mappings":"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","sourcesContent":["import _ from 'lodash';\r\nimport React, {Component} from 'react';\r\nimport {\r\n  PanResponder,\r\n  Animated,\r\n  View,\r\n  Text,\r\n  Image\r\n} from 'react-native';\r\nimport PropTypes from 'prop-types';\r\nimport XDate from 'xdate';\r\nimport {CALENDAR_KNOB} from '../testIDs';\r\n\r\nimport dateutils from '../dateutils';\r\nimport {parseDate} from '../interface';\r\nimport styleConstructor from './style';\r\nimport CalendarList from '../calendar-list';\r\nimport asCalendarConsumer from './asCalendarConsumer';\r\nimport Week from './week';\r\n\r\n\r\nconst commons = require('./commons');\r\nconst UPDATE_SOURCES = commons.UPDATE_SOURCES;\r\nconst POSITIONS = {\r\n  CLOSED: 'closed',\r\n  OPEN: 'open'\r\n};\r\nconst SPEED = 20;\r\nconst BOUNCINESS = 6;\r\nconst CLOSED_HEIGHT = 120; // header + 1 week\r\nconst WEEK_HEIGHT = 46;\r\nconst KNOB_CONTAINER_HEIGHT = 20;\r\nconst HEADER_HEIGHT = 68;\r\nconst DAY_NAMES_PADDING = 24;\r\n\r\n/**\r\n * @description: Expandable calendar component\r\n * @extends: CalendarList\r\n * @extendslink: docs/CalendarList\r\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/expandableCalendar.js\r\n */\r\nclass ExpandableCalendar extends Component {\r\n  static displayName = 'ExpandableCalendar';\r\n\r\n  static propTypes = {\r\n    ...CalendarList.propTypes,\r\n    /** the initial position of the calendar ('open' or 'closed') */\r\n    initialPosition: PropTypes.oneOf(_.values(POSITIONS)),\r\n    /** an option to disable the pan gesture and disable the opening and closing of the calendar (initialPosition will persist)*/\r\n    disablePan: PropTypes.bool,\r\n    /** whether to hide the knob  */\r\n    hideKnob: PropTypes.bool,\r\n    /** source for the left arrow image */\r\n    leftArrowImageSource: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.func]),\r\n    /** source for the right arrow image */\r\n    rightArrowImageSource: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.func]),\r\n    /** whether to have shadow/elevation for the calendar */\r\n    allowShadow: PropTypes.bool\r\n  }\r\n\r\n  static defaultProps = {\r\n    horizontal: true,\r\n    initialPosition: POSITIONS.CLOSED,\r\n    firstDay: 0,\r\n    leftArrowImageSource: require('../calendar/img/previous.png'),\r\n    rightArrowImageSource: require('../calendar/img/next.png'),\r\n    allowShadow: true\r\n  }\r\n\r\n  static positions = POSITIONS;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.style = styleConstructor(props.theme);\r\n    this.closedHeight = CLOSED_HEIGHT + (props.hideKnob ? 0 : KNOB_CONTAINER_HEIGHT);\r\n    this.numberOfWeeks = this.getNumberOfWeeksInMonth(XDate(this.props.context.date));\r\n    this.openHeight = this.getOpenHeight();\r\n    \r\n    const startHeight = props.initialPosition === POSITIONS.CLOSED ? this.closedHeight : this.openHeight;\r\n    this._height = startHeight;\r\n    this._wrapperStyles = {style: {}};\r\n    this._headerStyles = {style: {top: this.props.initialPosition === POSITIONS.CLOSED ? 0 : -HEADER_HEIGHT}};\r\n    this._weekCalendarStyles = {style: {}};\r\n    this.wrapper = undefined;\r\n    this.calendar = undefined;\r\n    this.visibleMonth = this.getMonth(this.props.context.date);\r\n    this.initialDate = props.context.date; // should be set only once!!!\r\n    this.headerStyleOverride = {\r\n      'stylesheet.calendar.header': {\r\n        week: {\r\n          marginTop: 7,\r\n          marginBottom: -4, // reduce space between dayNames and first line of dates\r\n          flexDirection: 'row',\r\n          justifyContent: 'space-around'\r\n        }\r\n      }\r\n    };\r\n\r\n    this.state = {\r\n      deltaY: new Animated.Value(startHeight),\r\n      headerDeltaY: new Animated.Value(this.props.initialPosition === POSITIONS.CLOSED ? 0 : -HEADER_HEIGHT),\r\n      position: props.initialPosition\r\n    };\r\n\r\n    this.panResponder = PanResponder.create({\r\n      onMoveShouldSetPanResponder: this.handleMoveShouldSetPanResponder,\r\n      onPanResponderGrant: this.handlePanResponderGrant,\r\n      onPanResponderMove: this.handlePanResponderMove,\r\n      onPanResponderRelease: this.handlePanResponderEnd,\r\n      onPanResponderTerminate: this.handlePanResponderEnd\r\n    });\r\n  }\r\n\r\n  // componentDidMount() {\r\n  //   this.updateNativeStyles();\r\n  // }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const {date} = this.props.context;\r\n    if (date !== prevProps.context.date) {\r\n      // date was changed from AgendaList, arrows or scroll\r\n      this.scrollToDate(date);\r\n    }\r\n  }\r\n  \r\n  updateNativeStyles() {\r\n    this.wrapper && this.wrapper.setNativeProps(this._wrapperStyles);\r\n    if (!this.props.horizontal) {\r\n      this.header && this.header.setNativeProps(this._headerStyles);\r\n    } else {\r\n      this.weekCalendar && this.weekCalendar.setNativeProps(this._weekCalendarStyles);\r\n    }\r\n  }\r\n\r\n  /** Scroll */\r\n\r\n  scrollToDate(date) {\r\n    if (this.calendar) {\r\n      if (!this.props.horizontal) {\r\n        this.calendar.scrollToDay(XDate(date), 0, true);\r\n      } else if (this.getMonth(date) !== this.visibleMonth) { // don't scroll if the month is already visible\r\n        this.calendar.scrollToMonth(XDate(date));\r\n      }\r\n    }\r\n  }\r\n\r\n  scrollPage(next) {\r\n    if (this.props.horizontal) {\r\n      const d = parseDate(this.props.context.date);\r\n      \r\n      if (this.state.position === POSITIONS.OPEN) {\r\n        d.setDate(1);\r\n        d.addMonths(next ? 1 : -1);\r\n      } else {\r\n        const {firstDay} = this.props;\r\n        let dayOfTheWeek = d.getDay();\r\n        if (dayOfTheWeek < firstDay && firstDay > 0) {\r\n          dayOfTheWeek = 7 + dayOfTheWeek;\r\n        }\r\n        const firstDayOfWeek = (next ? 7 : -7) - dayOfTheWeek + firstDay;\r\n        d.addDays(firstDayOfWeek);\r\n      }\r\n      _.invoke(this.props.context, 'setDate', this.getDateString(d), UPDATE_SOURCES.PAGE_SCROLL); \r\n    }\r\n  }\r\n\r\n  /** Utils */\r\n  getOpenHeight() {\r\n    if (!this.props.horizontal) {\r\n      return Math.max(commons.screenHeight, commons.screenWidth);\r\n    }\r\n    return CLOSED_HEIGHT + (WEEK_HEIGHT * (this.numberOfWeeks - 1)) + (this.props.hideKnob ? 12 : KNOB_CONTAINER_HEIGHT);\r\n  }\r\n\r\n  getDateString(date) {\r\n    return date.toString('yyyy-MM-dd');\r\n  }\r\n\r\n  getYear(date) {\r\n    const d = XDate(date);\r\n    return d.getFullYear();\r\n  }\r\n\r\n  getMonth(date) {\r\n    const d = XDate(date);\r\n    // getMonth() returns the month of the year (0-11). Value is zero-index, meaning Jan=0, Feb=1, Mar=2, etc.\r\n    return d.getMonth() + 1;\r\n  }\r\n\r\n  getNumberOfWeeksInMonth(month) {\r\n    const days = dateutils.page(month, this.props.firstDay);\r\n    return days.length / 7;\r\n  }\r\n\r\n  getMarkedDates() {\r\n    const {context, markedDates} = this.props;\r\n\r\n    if (markedDates) {\r\n      const marked = _.cloneDeep(markedDates);\r\n      if (marked[context.date]) {\r\n        marked[context.date].selected = true;\r\n      } else {\r\n        marked[context.date] = {selected: true};\r\n      }\r\n      return marked;\r\n    } \r\n    return {[context.date]: {selected: true}};\r\n  }\r\n\r\n  shouldHideArrows() {\r\n    if (!this.props.horizontal) {\r\n      return true;\r\n    }\r\n    return this.props.hideArrows || false;\r\n  }\r\n\r\n  isLaterDate(date1, date2) {\r\n    if (date1.year > this.getYear(date2)) {\r\n      return true;\r\n    }\r\n    if (date1.year === this.getYear(date2)) {\r\n      if (date1.month > this.getMonth(date2)) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /** Pan Gesture */\r\n\r\n  handleMoveShouldSetPanResponder = (e, gestureState) => {\r\n    if (this.props.disablePan) {\r\n      return false;\r\n    }\r\n    if (!this.props.horizontal && this.state.position === POSITIONS.OPEN) {\r\n      // disable pan detection when vertical calendar is open to allow calendar scroll\r\n      return false;\r\n    }\r\n    if (this.state.position === POSITIONS.CLOSED && gestureState.dy < 0) {\r\n      // disable pan detection to limit to closed height\r\n      return false;\r\n    }\r\n    return gestureState.dy > 5 || gestureState.dy < -5;\r\n  };\r\n  handlePanResponderGrant = () => {\r\n  \r\n  };\r\n  handlePanResponderMove = (e, gestureState) => {\r\n    // limit min height to closed height\r\n    this._wrapperStyles.style.height = Math.max(this.closedHeight, this._height + gestureState.dy);\r\n\r\n    if (!this.props.horizontal) {\r\n      // vertical CalenderList header\r\n      this._headerStyles.style.top = Math.min(Math.max(-gestureState.dy, -HEADER_HEIGHT), 0);\r\n    } else {\r\n      // horizontal Week view\r\n      if (this.state.position === POSITIONS.CLOSED) {\r\n        this._weekCalendarStyles.style.opacity = Math.min(1, Math.max(1 - gestureState.dy / 100, 0));\r\n      }\r\n    }\r\n\r\n    this.updateNativeStyles();\r\n  };\r\n  handlePanResponderEnd = () => {\r\n    this._height = this._wrapperStyles.style.height;\r\n    this.bounceToPosition();\r\n  };\r\n\r\n  /** Animated */\r\n  \r\n  bounceToPosition(toValue) {  \r\n    if (!this.props.disablePan) {  \r\n      const {deltaY} = this.state;\r\n      const threshold = this.openHeight / 1.75;\r\n\r\n      let isOpen = this._height >= threshold;\r\n      const newValue = isOpen ? this.openHeight : this.closedHeight;\r\n      \r\n      deltaY.setValue(this._height); // set the start position for the animated value\r\n      this._height = toValue || newValue;\r\n      isOpen = this._height >= threshold; // re-check after this._height was set\r\n\r\n      Animated.spring(deltaY, {\r\n        toValue: this._height,\r\n        speed: SPEED,\r\n        bounciness: BOUNCINESS\r\n      }).start(this.onAnimatedFinished);\r\n\r\n      this.setPosition();\r\n      this.closeHeader(isOpen);\r\n      this.resetWeekCalendarOpacity(isOpen);\r\n    }\r\n  }\r\n\r\n  onAnimatedFinished = ({finished}) => {\r\n    if (finished) {\r\n      // this.setPosition();\r\n    }\r\n  }\r\n\r\n  setPosition() {\r\n    const isClosed = this._height === this.closedHeight;\r\n    this.setState({position: isClosed ? POSITIONS.CLOSED : POSITIONS.OPEN});\r\n  }\r\n  \r\n  resetWeekCalendarOpacity(isOpen) {\r\n    this._weekCalendarStyles.style.opacity = isOpen ? 0 : 1;\r\n    this.updateNativeStyles();\r\n  }\r\n\r\n  closeHeader(isOpen) {\r\n    const {headerDeltaY} = this.state;\r\n\r\n    headerDeltaY.setValue(this._headerStyles.style.top); // set the start position for the animated value\r\n\r\n    if (!this.props.horizontal && !isOpen) {\r\n      Animated.spring(headerDeltaY, {\r\n        toValue: 0,\r\n        speed: SPEED / 10,\r\n        bounciness: 1\r\n      }).start();\r\n    }\r\n  }\r\n  \r\n  /** Events */\r\n\r\n  onPressArrowLeft = () => {\r\n    this.scrollPage(false);\r\n  }\r\n  onPressArrowRight = () => {\r\n    this.scrollPage(true);\r\n  }\r\n\r\n  onDayPress = (value) => { // {year: 2019, month: 4, day: 22, timestamp: 1555977600000, dateString: \"2019-04-23\"}\r\n    _.invoke(this.props.context, 'setDate', value.dateString, UPDATE_SOURCES.DAY_PRESS); \r\n    \r\n    setTimeout(() => { // to allows setDate to be completed\r\n      if (this.state.position === POSITIONS.OPEN) {\r\n        this.bounceToPosition(this.closedHeight);\r\n      }\r\n    }, 0);\r\n  }\r\n\r\n  onVisibleMonthsChange = (value) => {\r\n    if (this.visibleMonth !== _.first(value).month) {\r\n      this.visibleMonth = _.first(value).month; // equivalent to this.getMonth(value[0].dateString)\r\n\r\n      // for horizontal scroll\r\n      const {date, updateSource} = this.props.context;\r\n      \r\n      if (this.visibleMonth !== this.getMonth(date) && updateSource !== UPDATE_SOURCES.DAY_PRESS) {\r\n        const next = this.isLaterDate(_.first(value), date);\r\n        this.scrollPage(next);\r\n      }\r\n\r\n      // updating openHeight\r\n      setTimeout(() => { // to wait for setDate() call in horizontal scroll (this.scrollPage())\r\n        const numberOfWeeks = this.getNumberOfWeeksInMonth(parseDate(this.props.context.date));\r\n        if (numberOfWeeks !== this.numberOfWeeks) {\r\n          this.numberOfWeeks = numberOfWeeks;\r\n          this.openHeight = this.getOpenHeight();\r\n          if (this.state.position === POSITIONS.OPEN) {\r\n            this.bounceToPosition(this.openHeight);\r\n          }\r\n        }\r\n      }, 0);\r\n    }\r\n  }\r\n\r\n  /** Renders */\r\n\r\n  renderWeekDaysNames() {\r\n    const weekDaysNames = dateutils.weekDayNames(this.props.firstDay);\r\n\r\n    return (\r\n      <View \r\n        style={[\r\n          this.style.weekDayNames, \r\n          {\r\n            paddingLeft: _.get(this.props, 'calendarStyle.paddingLeft') + 6 || DAY_NAMES_PADDING, \r\n            paddingRight: _.get(this.props, 'calendarStyle.paddingRight') + 6 || DAY_NAMES_PADDING\r\n          }\r\n        ]}\r\n      >\r\n        {weekDaysNames.map((day, index) => (\r\n          <Text allowFontScaling={false} key={day+index} style={this.style.weekday} numberOfLines={1}>{day}</Text>\r\n        ))}\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderHeader() {\r\n    const monthYear = XDate(this.props.context.date).toString('MMMM yyyy');\r\n\r\n    return (\r\n      <Animated.View\r\n        ref={e => this.header = e}\r\n        style={[this.style.header, {height: HEADER_HEIGHT, top: this.state.headerDeltaY}]}\r\n        pointerEvents={'none'}\r\n      >\r\n        <Text allowFontScaling={false} style={this.style.headerTitle}>{monthYear}</Text>\r\n        {this.renderWeekDaysNames()}\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  renderWeekCalendar() {\r\n    const {position} = this.state;\r\n\r\n    return (\r\n      <Animated.View\r\n        ref={e => this.weekCalendar = e}\r\n        style={{\r\n          position: 'absolute', \r\n          left: 0, \r\n          right: 0, \r\n          top: HEADER_HEIGHT + (commons.isAndroid ? 8 : 4), // align row on top of calendar's first row\r\n          opacity: position === POSITIONS.OPEN ? 0 : 1\r\n        }}\r\n        pointerEvents={position === POSITIONS.CLOSED ? 'auto' : 'none'}\r\n      >\r\n        <Week\r\n          {...this.props}\r\n          current={this.props.context.date}\r\n          onDayPress={this.onDayPress}\r\n          markedDates={this.getMarkedDates()}\r\n          style={this.props.calendarStyle}\r\n        />\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  renderKnob() {\r\n    // TODO: turn to TouchableOpacity with onPress that closes it\r\n    return (\r\n      <View style={this.style.knobContainer} pointerEvents={'none'}>\r\n        <View style={this.style.knob} testID={CALENDAR_KNOB}/>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderArrow = (direction) => {\r\n    if (_.isFunction(this.props.renderArrow)) {\r\n      this.props.renderArrow(direction);\r\n    }\r\n\r\n    return (\r\n      <Image\r\n        source={direction === 'right' ? this.props.rightArrowImageSource : this.props.leftArrowImageSource}\r\n        style={this.style.arrowImage}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {style, hideKnob, horizontal, allowShadow, theme} = this.props;\r\n    const {deltaY, position} = this.state;\r\n    const isOpen = position === POSITIONS.OPEN;\r\n    const themeObject = Object.assign(this.headerStyleOverride, theme);\r\n\r\n    return (\r\n      <View style={[allowShadow && this.style.containerShadow, style]}>\r\n        <Animated.View \r\n          ref={e => {this.wrapper = e;}}\r\n          style={{height: deltaY}} \r\n          {...this.panResponder.panHandlers}\r\n        >\r\n          <CalendarList\r\n            testID=\"calendar\"\r\n            {...this.props}\r\n            theme={themeObject}\r\n            ref={r => this.calendar = r}\r\n            current={this.initialDate}\r\n            onDayPress={this.onDayPress}\r\n            onVisibleMonthsChange={this.onVisibleMonthsChange}\r\n            pagingEnabled\r\n            scrollEnabled={isOpen}\r\n            markedDates={this.getMarkedDates()}\r\n            hideArrows={this.shouldHideArrows()}\r\n            onPressArrowLeft={this.onPressArrowLeft}\r\n            onPressArrowRight={this.onPressArrowRight}\r\n            hideExtraDays={!horizontal}\r\n            renderArrow={this.renderArrow}\r\n            staticHeader\r\n          /> \r\n          {horizontal && this.renderWeekCalendar()}\r\n          {!hideKnob && this.renderKnob()}\r\n          {!horizontal && this.renderHeader()}\r\n        </Animated.View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nexport default asCalendarConsumer(ExpandableCalendar);\r\n"]},"metadata":{},"sourceType":"module"}